<section
  id="{{ widget.id }}"
  class="widget widget-download-cta has-bg-color"
  data-widget-id="{{ widget.id }}"
  data-widget-type="download-cta"
  style="--widget-bg-color: {{ widget.settings.bg_color | default: 'var(--bg-secondary)' }}"
>
  <style>
    #{{ widget.id }} {
      & .cta-box {
        display: flex;
        flex-direction: column;
        gap: var(--space-xl);
        padding: var(--space-2xl);
        border: var(--border-width-thin) solid var(--border-light);
        text-align: {{ widget.settings.alignment | default: 'center' }};
        align-items: {% case widget.settings.alignment %}{% when 'start' %}flex-start{% when 'end' %}flex-end{% else %}center{% endcase %};
      }

      & .cta-actions {
        display: flex;
        gap: var(--space-md);
      }

      & .cta-button {
        display: inline-flex;
        align-items: center;
        gap: var(--space-sm);
      }

      & .cta-icon {
        width: 2rem;
        height: 2rem;
        fill: currentColor;
      }

      @media (min-width: 750px) {
        & .cta-box {
          padding: var(--space-4xl);
        }
      }
    }
  </style>

  <div class="widget-container">
    <div class="widget-content widget-content-lg">
      <div class="cta-box">
        <div class="cta-header">
          {% if widget.settings.eyebrow != blank %}
            <span class="widget-eyebrow" data-setting="eyebrow">{{ widget.settings.eyebrow }}</span>
          {% endif %}
          {% if widget.settings.title != blank %}
            <h2 class="widget-headline" data-setting="title">{{ widget.settings.title }}</h2>
          {% endif %}
          {% if widget.settings.description != blank %}
            <p class="widget-description" data-setting="description">{{ widget.settings.description }}</p>
          {% endif %}
        </div>

        {% if widget.settings.button_text != blank %}
          <div class="cta-actions">
            <a
              href="{{ widget.settings.button_link.href | default: '#' }}"
              class="widget-button widget-button-filled cta-button"
              {% if widget.settings.is_download %}
                download
              {% endif %}
              {% if widget.settings.button_link.target == '_blank' %}
                target="_blank" rel="noopener"
              {% endif %}
            >
              {% if widget.settings.icon != 'none' %}
                <span class="cta-icon">
                  {% case widget.settings.icon %}
                    {% when 'download' %}
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-download"
                      >
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/>
                      </svg>
                    {% when 'arrow' %}
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-arrow-right"
                      >
                        <path d="M5 12h14"/><polyline points="12 5 19 12 12 19"/>
                      </svg>
                    {% when 'document' %}
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-file-text"
                      >
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><polyline points="10 9 9 9 8 9"/>
                      </svg>
                    {% when 'external' %}
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-external-link"
                      >
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/>
                      </svg>
                  {% endcase %}
                </span>
              {% endif %}
              <span data-setting="button_text">{{ widget.settings.button_text }}</span>
            </a>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>
