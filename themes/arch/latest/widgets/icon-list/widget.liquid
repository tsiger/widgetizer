<section
  id="{{ widget.id }}"
  class="widget widget-icon-list widget-{{ widget.id }} color-scheme-{{ widget.settings.color_scheme }}"
  {% if widget.settings.color_scheme == 'highlight' %}
    style="--widget-bg-color: var(--bg-primary);"
  {% endif %}
  data-widget-id="{{ widget.id }}"
  data-widget-type="icon-list"
  {% if widget.index != null %}data-widget-index="{{ widget.index }}"{% endif %}
>
  <style>
    .widget-{{ widget.id }} {
      & .icon-list-grid {
        list-style: none;
        padding: 0;
        margin: 0;
        row-gap: var(--space-xl);
        column-gap: var(--space-lg);
        grid-template-columns: repeat(2, minmax(0, 1fr));

        @media (min-width: 750px) {
          grid-template-columns: repeat(4, minmax(0, 1fr));
        }

        @media (min-width: 990px) {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        @media (min-width: 1200px) {
          grid-template-columns: repeat(var(--grid-cols-desktop, 4), minmax(0, 1fr));
        }
      }

      & .icon-list-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: var(--space-sm);
      }

      & .icon-list-icon {
        width: var(--icon-size-xl);
        height: var(--icon-size-xl);
        color: var(--accent);
      }

      & .icon-list-title {
        color: var(--text-content);
        margin: 0;
      }
    }
  </style>

  <div class="widget-container {% if widget.settings.color_scheme == 'highlight' %}widget-container-padded{% endif %}">
    {% if widget.settings.title != blank or widget.settings.description != blank or widget.settings.eyebrow != blank %}
      <div class="widget-header">
        {% assign header_delay = 0 %}
        {% if widget.settings.eyebrow != blank %}
          <span class="widget-eyebrow reveal reveal-up" style="--reveal-delay: {{ header_delay }}" data-setting="eyebrow">{{ widget.settings.eyebrow }}</span>
          {% assign header_delay = header_delay | plus: 1 %}
        {% endif %}
        {% if widget.settings.title != blank %}
          {% if widget.index == 1 %}
            <h1 class="widget-headline reveal reveal-up" style="--reveal-delay: {{ header_delay }}" data-setting="title">{{ widget.settings.title }}</h1>
          {% else %}
            <h2 class="widget-headline reveal reveal-up" style="--reveal-delay: {{ header_delay }}" data-setting="title">{{ widget.settings.title }}</h2>
          {% endif %}
          {% assign header_delay = header_delay | plus: 1 %}
        {% endif %}
        {% if widget.settings.description != blank %}
          <p class="widget-description reveal reveal-up" style="--reveal-delay: {{ header_delay }}" data-setting="description">
            {{ widget.settings.description }}
          </p>
        {% endif %}
      </div>
    {% endif %}

    <div class="widget-content">
      <ul
        class="icon-list-grid widget-grid"
        style="--grid-cols-desktop: {{ widget.settings.columns_desktop }};"
      >
        {% for blockId in widget.blocksOrder %}
          {% assign block = widget.blocks[blockId] %}
          <li class="icon-list-item reveal reveal-up" style="--reveal-delay: {{ forloop.index0 }}" data-block-id="{{ blockId }}">
            {% if block.settings.icon != blank %}
              {% render 'icon', icon: block.settings.icon, class: 'icon-list-icon' %}
            {% endif %}
            {% if block.settings.title != blank %}
              <span class="icon-list-title" data-setting="title">{{ block.settings.title }}</span>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</section>
