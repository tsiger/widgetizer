<section
  id="{{ widget.id }}"
  class="widget widget-type-embed widget-{{ widget.id }} color-scheme-{{ widget.settings.color_scheme }}"
  {% if widget.settings.color_scheme == 'highlight' %}
    style="--widget-bg-color: var(--bg-primary);"
  {% endif %}
  data-widget-id="{{ widget.id }}"
  data-widget-type="embed"
  {% if widget.index != null %}data-widget-index="{{ widget.index }}"{% endif %}
>
  <style>
    .widget-{{ widget.id }} {
      & .embed-container {
        display: flex;
        flex-direction: column;
        gap: var(--space-xl);
        text-align: {{ widget.settings.alignment | default: 'center' }};
        align-items: {% case widget.settings.alignment %}{% when 'start' %}flex-start{% when 'end' %}flex-end{% else %}center{% endcase %};
      }

      & .embed-code-wrapper {
        width: 100%;

        & iframe {
          max-width: 100%;
        }
      }
    }
  </style>

  <div class="widget-container {% if widget.settings.color_scheme == 'highlight' %}widget-container-padded{% endif %}">
    <div class="widget-content {% case widget.settings.max_width %}{% when 'small' %}widget-content-sm{% when 'medium' %}widget-content-md{% when 'large' %}widget-content-lg{% else %}{% endcase %}">      <div class="embed-container">
        {% if widget.settings.title != blank
          or widget.settings.description != blank
          or widget.settings.eyebrow != blank
        %}
          <div class="widget-header">
            {% assign header_delay = 0 %}
            {% if widget.settings.eyebrow != blank %}
              <span class="widget-eyebrow reveal reveal-up" style="--reveal-delay: {{ header_delay }}" data-setting="eyebrow">{{ widget.settings.eyebrow }}</span>
              {% assign header_delay = header_delay | plus: 1 %}
            {% endif %}
            {% if widget.settings.title != blank %}
              {% if widget.index == 1 %}
                <h1 class="widget-headline reveal reveal-up" style="--reveal-delay: {{ header_delay }}" data-setting="title">{{ widget.settings.title }}</h1>
              {% else %}
                <h2 class="widget-headline reveal reveal-up" style="--reveal-delay: {{ header_delay }}" data-setting="title">{{ widget.settings.title }}</h2>
              {% endif %}
              {% assign header_delay = header_delay | plus: 1 %}
            {% endif %}
            {% if widget.settings.description != blank %}
              <p class="widget-description reveal reveal-up" style="--reveal-delay: {{ header_delay }}" data-setting="description">{{ widget.settings.description }}</p>
            {% endif %}
          </div>
        {% endif %}

        <div class="embed-code-wrapper reveal reveal-fade" role="region" aria-label="Embedded content">
          {{ widget.settings.code }}
        </div>
      </div>
    </div>
  </div>
</section>
