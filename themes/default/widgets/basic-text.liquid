<section
	class="basic-text"
	data-widget-id="{{ widget.id }}"
	data-widget-type="basic-text"
>
	{% asset "basic-text.css" %}
	{% asset "basic-text.js" %}
	<style>
		#{{ widget.id }}.basic-text__container {
			background-color: {{ widget.settings.backgroundColor }};
			padding: {{ widget.settings.padding }}px;
		}

		#{{ widget.id }} .basic-text__heading {
			font-size: {{ widget.settings.headingSize }}px;
			margin-bottom: 1rem;
			color: {{ widget.settings.headingColor }};
			text-align: {{ widget.settings.textAlignment }};
		}

		#{{ widget.id }} .basic-text__content {
			font-size: 1rem;
			line-height: 1.5;
			color: {{ widget.settings.textColor }};
		}

		#{{ widget.id }} .basic-text__image {
			max-width: 100%;
			height: auto;
			margin-bottom: 1rem;
		}

		#{{ widget.id }} .basic-text__blocks {
			margin-top: 2rem;
		}

		#{{ widget.id }} .basic-text__meta {
			font-size: 0.875rem;
			color: #666;
			margin-bottom: 1rem;
			padding: 1rem;
			background: #f8f9fa;
			border-radius: 4px;
			border-left: 4px solid #007bff;
		}

		#{{ widget.id }} .basic-text__meta h4 {
			margin: 0 0 0.5rem 0;
			color: #333;
			font-size: 1rem;
		}

		#{{ widget.id }} .basic-text__meta ul {
			margin: 0 0 1rem 0;
			padding-left: 1.5rem;
		}

		#{{ widget.id }} .basic-text__meta li {
			margin-bottom: 0.25rem;
		}

		#{{ widget.id }} .basic-text__meta code {
			background: #e9ecef;
			padding: 0.125rem 0.25rem;
			border-radius: 3px;
			font-size: 0.8rem;
		}

		#{{ widget.id }} .basic-text__meta pre {
			background: #fff;
			padding: 0.5rem;
			border-radius: 3px;
			font-size: 0.7rem;
			overflow-x: auto;
			border: 1px solid #dee2e6;
		}
	</style>

	<div id="{{ widget.id }}" class="basic-text__container">
		<!-- Widget Content -->
		{% if widget.settings.heading != blank %}
			<h2 class="basic-text__heading">
				{{ widget.settings.heading }}
			</h2>
		{% endif %}

		{% if widget.settings.showImage and widget.settings.image != blank %}
			<div class="basic-text__image-container">
				{{ widget.settings.image | image: 'medium', 'basic-text__image' }}
			</div>
		{% endif %}

		<div class="basic-text__content">
			{% if widget.settings.content != blank %}
				{{ widget.settings.content }}
			{% else %}
				<p><em>Add some content using the settings panel on the right â†’</em></p>
			{% endif %}
		</div>

		<!-- Widget Debug Information (if enabled) -->
		{% if widget.settings.showDebugInfo %}
			<div class="basic-text__meta">
				<h4>ðŸ”§ Widget Debug Information</h4>
				<ul>
					<li><strong>Widget ID:</strong> <code>{{ widget.id }}</code></li>
					<li><strong>Widget Type:</strong> <code>{{ widget.type }}</code></li>
					<li><strong>Theme Settings Available:</strong> <code>{{ theme }}</code></li>
				</ul>

				<h4>ðŸŽ¨ Example Theme Settings Usage</h4>
				<ul>
					<li><strong>Colors:</strong> <code>{{ theme.colors.background | default: "Not set" }}</code></li>
					<li><strong>Typography:</strong> <code>{{ theme.typography.body_font | default: "Not set" }}</code></li>
					<li><strong>Layout:</strong> <code>{{ theme.layout.site_width | default: "Not set" }}</code></li>
				</ul>

				<p><small><strong>Note:</strong> page.* and project.* objects are only available in layout.liquid, not in individual widget templates.</small></p>
			</div>
		{% endif %}

		<!-- Widget Blocks -->
		{% if widget.blocks != blank %}
			<div class="basic-text__blocks">
				{% for block in widget.blocks %}
					{% render 'block', block: block %}
				{% endfor %}
			</div>
		{% endif %}
	</div>

	<script type="application/json" data-widget-schema>
		{
			"type": "basic-text",
			"displayName": "Basic Text",
			"description": "A simple text widget with heading, content, and optional image",
			"settings": [
				{
					"type": "header",
					"content": "Content Settings"
				},
				{
					"type": "text",
					"id": "heading",
					"label": "Heading",
					"description": "Optional heading for this text block",
					"default": "Welcome"
				},
				{
					"type": "textarea",
					"id": "content",
					"label": "Content",
					"description": "Main text content for this widget",
					"default": "Add your content here..."
				},
				{
					"type": "header",
					"content": "Visual Settings"
				},
				{
					"type": "checkbox",
					"id": "showImage",
					"label": "Show Image",
					"description": "Display an image above the text content",
					"default": false
				},
				{
					"type": "image",
					"id": "image",
					"label": "Image",
					"description": "Select an image to display",
					"condition": "showImage"
				},
				{
					"type": "range",
					"id": "headingSize",
					"label": "Heading Size",
					"description": "Font size for the heading in pixels",
					"default": 32,
					"min": 16,
					"max": 48,
					"step": 2
				},
				{
					"type": "select",
					"id": "textAlignment",
					"label": "Text Alignment",
					"description": "How to align the text content",
					"default": "left",
					"options": [
						{
							"value": "left",
							"label": "Left"
						},
						{
							"value": "center",
							"label": "Center"
						},
						{
							"value": "right",
							"label": "Right"
						}
					]
				},
				{
					"type": "header",
					"content": "Colors & Spacing"
				},
				{
					"type": "color",
					"id": "backgroundColor",
					"label": "Background Color",
					"description": "Background color for this widget",
					"default": "#ffffff"
				},
				{
					"type": "color",
					"id": "headingColor",
					"label": "Heading Color",
					"description": "Color for the heading text",
					"default": "#333333"
				},
				{
					"type": "color",
					"id": "textColor",
					"label": "Text Color",
					"description": "Color for the main content text",
					"default": "#666666"
				},
				{
					"type": "range",
					"id": "padding",
					"label": "Padding",
					"description": "Internal spacing around the widget content",
					"default": 20,
					"min": 0,
					"max": 60,
					"step": 5
				},
				{
					"type": "header",
					"content": "Developer Options"
				},
				{
					"type": "checkbox",
					"id": "showDebugInfo",
					"label": "Show Widget Debug Information",
					"description": "Display widget ID, type, and available template variables (useful for theme development)",
					"default": false
				}
			]
		}
	</script>
</section>
